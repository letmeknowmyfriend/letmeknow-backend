spring:
    datasource:
        driver-class-name: com.mysql.cj.jdbc.Driver
        url: jdbc:mysql://localhost:3306/letmeknow?useSSL=false&serverTimezone=Asia/Seoul
        username: ${DB_USERNAME}
        password: ${DB_PASSWORD}
    jpa:
        database: mysql
        hibernate:
            ddl-auto: validate
#        properties:
#            hibernate:
#                show_sql: true
#                format_sql: true
#                dialect: org.hibernate.dialect.MySQL5InnoDBDialect
        logging.level:
        org.hibernate.SQL: debug
        open-in-view: false
    properties:
        hibernate:
            default_batch_fetch_size: 100
    logging:
        level:
            org:
                hibernate:
                    SQL: trace
    security:
        oauth2:
            client:
                registration:
                    kakao:
                        client-id: ${KAKAO_CLIENT_ID}
                        client-secret: ${KAKAO_CLIENT_SECRET}
                        client-name: kakao
                        redirect-uri: "{baseUrl}/auth/login/oauth2/code/{registrationId}"
                        authorization-grant-type: authorization_code
                        scope:
                          - account_email
                    naver:
                        client-id: ${NAVER_CLIENT_ID}
                        client-secret: ${NAVER_CLIENT_SECRET}
                        client-name: naver
                        redirect-uri: "{baseUrl}/auth/login/oauth2/code/{registrationId}"
                        authorization-grant-type: authorization_code
                        scope:
                          - email
                    google:
                        client-id: ${GOOGLE_CLIENT_ID}
                        client-secret: ${GOOGLE_CLIENT_SECRET}
                        redirect-uri: "{baseUrl}/auth/login/oauth2/code/{registrationId}"
                        scope:
                          - email
                provider:
                    kakao:
                        authorization-uri: https://kauth.kakao.com/oauth/authorize
                        token-uri: https://kauth.kakao.com/oauth/token
                        user-info-uri: https://kapi.kakao.com/v2/user/me
                        user-name-attribute: id
                    naver:
                        authorization-uri: https://nid.naver.com/oauth2.0/authorize
                        token-uri: https://nid.naver.com/oauth2.0/token
                        user-info-uri: https://openapi.naver.com/v1/nid/me
                        user-name-attribute: response
    #Email
    mail:
        host: smtp.gmail.com
        port: 587
        username: ${EMAIL_USERNAME}
        password: ${EMAIL_PASSWORD}
        properties:
            mail:
                smtp:
                    auth: true
                    timeout: 5000
                    starttls:
                        enable: true
                        required: true

# JWT
jwt:
    secret: ${JWT_SECRET}
    token:
        access:
#            expiration: 300000 # 5분
            expiration: 86_400_000 # 1일
            header: Authorization
        refresh:
            expiration: 604800000 # 7일 (1000L(ms -> s) * 60L(s -> m) * 60L(m -> h) * 24L(h -> d) * 7L(d -> w))
            header: AuthorizationRefresh

server:
    port: 9090
    error:
        include-message: always
        include-binding-errors: always
        include-stacktrace: on_param
        include-exception: true

# p6spy
logging:
    file:
        path: /Users/mac/Desktop/letmeknow/log
    level:
        root: info
        p6spy: debug
    logback:
        rollingpolicy:
            max-file-size: 50MB
            max-history: 10
decorator:
    datasource:
        p6spy:
            enable-logging: true
# p6spy
